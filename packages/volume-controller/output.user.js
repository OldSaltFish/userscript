// ==UserScript==
// @name         音量控制器
// @namespace    http://dreamsoul.cn/
// @version      1.0.0
// @author       魂祈梦
// @description  独立控制每个标签页的音量
// @icon         https://origin.picgo.net/2025/08/14/20230114183308_b406b-removebg-preview-16e2e100d329d649b.webp
// @match        *://*/*
// @grant        GM_registerMenuCommand
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_addStyle
// @run-at       document-idle
// @noframes
// ==/UserScript==


(function() {
  'use strict';
  // 添加全局样式
  GM_addStyle(String.raw`@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after{--un-bg-opacity:100%;--un-border-opacity:100%;--un-text-opacity:100%;--un-translate-x:initial;--un-translate-y:initial;--un-translate-z:initial}::backdrop{--un-bg-opacity:100%;--un-border-opacity:100%;--un-text-opacity:100%;--un-translate-x:initial;--un-translate-y:initial;--un-translate-z:initial}}@property --un-text-opacity{syntax:"<percentage>";inherits:false;initial-value:100%}@property --un-border-opacity{syntax:"<percentage>";inherits:false;initial-value:100%}@property --un-bg-opacity{syntax:"<percentage>";inherits:false;initial-value:100%}@property --un-inset-ring-color{syntax:"*";inherits:false}@property --un-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --un-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --un-inset-shadow-color{syntax:"*";inherits:false}@property --un-ring-color{syntax:"*";inherits:false}@property --un-ring-inset{syntax:"*";inherits:false}@property --un-ring-offset-color{syntax:"*";inherits:false}@property --un-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --un-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --un-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --un-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --un-shadow-color{syntax:"*";inherits:false}@property --un-translate-x{syntax:"*";inherits:false;initial-value:0}@property --un-translate-y{syntax:"*";inherits:false;initial-value:0}@property --un-translate-z{syntax:"*";inherits:false;initial-value:0}:root,:host{--font-sans:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--default-font-family:var(--font-sans);--default-monoFont-family:var(--font-mono);--radius-lg:.5rem;--spacing:.25rem;--fontWeight-medium:500;--radius-DEFAULT:.25rem;--colors-white:#fff;--colors-gray-300:#d1d5dc;--colors-gray-400:#99a1af;--colors-gray-800:#1e2939;--colors-gray-600:#4a5565;--colors-gray-200:#e5e7eb;--colors-blue-100:#dbeafe;--colors-blue-800:#193cb8;--colors-gray-500:#6a7282;--text-base-fontSize:1rem;--text-base-lineHeight:1.5rem;--text-lg-fontSize:1.125rem;--text-lg-lineHeight:1.75rem;--text-sm-fontSize:.875rem;--text-sm-lineHeight:1.25rem;--text-xs-fontSize:.75rem;--text-xs-lineHeight:1rem;--colors-gray-700:#364153;--colors-blue-200:#bedbff}@supports (color:color(display-p3 0 0 0)){:root,:host{--colors-gray-300:color(display-p3 .822033 .835264 .858521);--colors-gray-400:color(display-p3 .605734 .630385 .680158);--colors-gray-800:color(display-p3 .125854 .159497 .216835);--colors-gray-600:color(display-p3 .297358 .332176 .39043);--colors-gray-200:color(display-p3 .899787 .906171 .92106);--colors-blue-100:color(display-p3 .869214 .915931 .989622);--colors-blue-800:color(display-p3 .134023 .230647 .695537);--colors-gray-500:color(display-p3 .421287 .446085 .504784);--colors-gray-700:color(display-p3 .219968 .253721 .318679);--colors-blue-200:color(display-p3 .76688 .855207 .987483)}}@supports (color:lab(0% 0 0)){:root,:host{--colors-gray-300:lab(85.1236% -.612259 -3.7138);--colors-gray-400:lab(65.9269% -.832707 -8.17474);--colors-gray-800:lab(16.1051% -1.18239 -11.7533);--colors-gray-600:lab(35.6337% -1.58697 -10.8425);--colors-gray-200:lab(91.6229% -.159085 -2.26791);--colors-blue-100:lab(92.0301% -2.24757 -11.6453);--colors-blue-800:lab(30.2514% 27.7854 -70.2699);--colors-gray-500:lab(47.7841% -.393212 -10.0268);--colors-gray-700:lab(27.1134% -.956401 -12.3224);--colors-blue-200:lab(86.15% -4.04379 -21.0797)}}*,:after,:before{box-sizing:border-box;border:0 solid;margin:0;padding:0}::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::-webkit-file-upload-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-featureSettings,normal);font-variation-settings:var(--default-font-variationSettings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-monoFont-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-monoFont-featureSettings,normal);font-variation-settings:var(--default-monoFont-variationSettings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::-webkit-file-upload-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:-webkit-any([multiple],[size])) optgroup{font-weight:bolder}:where(select:-moz-any([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:-webkit-any([multiple],[size])) optgroup option{padding-inline-start:20px}:where(select:-moz-any([multiple],[size])) optgroup option{padding-inline-start:20px}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::-webkit-file-upload-button{margin-inline-end:4px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block-start:0;padding-block-end:0}::-webkit-datetime-edit-year-field{padding-block-start:0;padding-block-end:0}::-webkit-datetime-edit-month-field{padding-block-start:0;padding-block-end:0}::-webkit-datetime-edit-day-field{padding-block-start:0;padding-block-end:0}::-webkit-datetime-edit-hour-field{padding-block-start:0;padding-block-end:0}::-webkit-datetime-edit-minute-field{padding-block-start:0;padding-block-end:0}::-webkit-datetime-edit-second-field{padding-block-start:0;padding-block-end:0}::-webkit-datetime-edit-millisecond-field{padding-block-start:0;padding-block-end:0}::-webkit-datetime-edit-meridiem-field{padding-block-start:0;padding-block-end:0}:-moz-ui-invalid{box-shadow:none}button{-webkit-appearance:button;-moz-appearance:button;appearance:button}input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}.text-base{font-size:var(--text-base-fontSize);line-height:var(--un-leading,var(--text-base-lineHeight))}.text-lg{font-size:var(--text-lg-fontSize);line-height:var(--un-leading,var(--text-lg-lineHeight))}.text-sm{font-size:var(--text-sm-fontSize);line-height:var(--un-leading,var(--text-sm-lineHeight))}.text-xs{font-size:var(--text-xs-fontSize);line-height:var(--un-leading,var(--text-xs-lineHeight))}.text-blue-800{color:color-mix(in srgb,var(--colors-blue-800)var(--un-text-opacity),transparent)}.text-gray-400{color:color-mix(in srgb,var(--colors-gray-400)var(--un-text-opacity),transparent)}.text-gray-500{color:color-mix(in srgb,var(--colors-gray-500)var(--un-text-opacity),transparent)}.text-gray-600{color:color-mix(in srgb,var(--colors-gray-600)var(--un-text-opacity),transparent)}.text-gray-800{color:color-mix(in srgb,var(--colors-gray-800)var(--un-text-opacity),transparent)}.hover\:text-gray-700:hover{color:color-mix(in srgb,var(--colors-gray-700)var(--un-text-opacity),transparent)}.font-medium{--un-font-weight:var(--fontWeight-medium);font-weight:var(--fontWeight-medium)}.font-sans{font-family:var(--font-sans)}.my-2{margin-block:calc(var(--spacing)*2)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mr-1{margin-right:calc(var(--spacing)*1)}.mt-0{margin-top:calc(var(--spacing)*0)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-4{margin-top:calc(var(--spacing)*4)}.p-4{padding:calc(var(--spacing)*4)}.px-2{padding-inline:calc(var(--spacing)*2)}.py-1{padding-block:calc(var(--spacing)*1)}.pt-3{padding-top:calc(var(--spacing)*3)}.text-center{text-align:center}.border{border-width:1px}.border-t{border-top-width:1px}.border-gray-200{border-color:color-mix(in srgb,var(--colors-gray-200)var(--un-border-opacity),transparent)}.border-gray-300{border-color:color-mix(in srgb,var(--colors-gray-300)var(--un-border-opacity),transparent)}.rounded{border-radius:var(--radius-DEFAULT)}.rounded-lg{border-radius:var(--radius-lg)}.border-none{--un-border-style:none;border-style:none}.bg-blue-100{background-color:color-mix(in srgb,var(--colors-blue-100)var(--un-bg-opacity),transparent)}.bg-transparent{background-color:#0000}.bg-white{background-color:color-mix(in srgb,var(--colors-white)var(--un-bg-opacity),transparent)}.hover\:bg-blue-200:hover{background-color:color-mix(in srgb,var(--colors-blue-200)var(--un-bg-opacity),transparent)}.flex{display:flex}.h-8{height:calc(var(--spacing)*8)}.w-12{width:calc(var(--spacing)*12)}.w-72{width:calc(var(--spacing)*72)}.w-full{width:100%}.cursor-pointer{cursor:pointer}.shadow-md{--un-shadow:0 4px 6px -1px var(--un-shadow-color,#0000001a),0 2px 4px -2px var(--un-shadow-color,#0000001a);box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.-translate-x-1\/2{--un-translate-x:-50%;translate:var(--un-translate-x)var(--un-translate-y)}.-translate-y-1\/2{--un-translate-y:-50%;translate:var(--un-translate-x)var(--un-translate-y)}.transform{transform:var(--un-rotate-x)var(--un-rotate-y)var(--un-rotate-z)var(--un-skew-x)var(--un-skew-y)}.items-center{align-items:center}.left-1\/2{left:50%}.right-2{right:calc(var(--spacing)*2)}.top-1\/2{top:50%}.top-2{top:calc(var(--spacing)*2)}.justify-between{justify-content:space-between}.absolute{position:absolute}.fixed{position:fixed}.z-\[10000\]{z-index:10000}@supports (color:color-mix(in lab, red, red)){.text-blue-800{color:color-mix(in oklab,var(--colors-blue-800)var(--un-text-opacity),transparent)}.text-gray-400{color:color-mix(in oklab,var(--colors-gray-400)var(--un-text-opacity),transparent)}.text-gray-500{color:color-mix(in oklab,var(--colors-gray-500)var(--un-text-opacity),transparent)}.text-gray-600{color:color-mix(in oklab,var(--colors-gray-600)var(--un-text-opacity),transparent)}.text-gray-800{color:color-mix(in oklab,var(--colors-gray-800)var(--un-text-opacity),transparent)}.hover\:text-gray-700:hover{color:color-mix(in oklab,var(--colors-gray-700)var(--un-text-opacity),transparent)}.border-gray-200{border-color:color-mix(in oklab,var(--colors-gray-200)var(--un-border-opacity),transparent)}.border-gray-300{border-color:color-mix(in oklab,var(--colors-gray-300)var(--un-border-opacity),transparent)}.bg-blue-100{background-color:color-mix(in oklab,var(--colors-blue-100)var(--un-bg-opacity),transparent)}.bg-white{background-color:color-mix(in oklab,var(--colors-white)var(--un-bg-opacity),transparent)}.hover\:bg-blue-200:hover{background-color:color-mix(in oklab,var(--colors-blue-200)var(--un-bg-opacity),transparent)}}
`);
  "use strict";(self.webpackChunk=self.webpackChunk||[]).push([["509"],{721:function(){},407:function(e,t,n){n.d(t,{_:()=>r});function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},266:function(e,t,n){let r;n.d(t,{F3:()=>b,GW:()=>w,LM:()=>_,Zw:()=>S,di:()=>M,gQ:()=>v,so:()=>g,vH:()=>l});let l={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return o(this.context.count)},getNextContextId(){return o(this.context.count++)}};function o(e){let t=String(e),n=t.length-1;return l.context.id+(n?String.fromCharCode(96+n):"")+t}Symbol("solid-proxy"),Symbol("solid-track"),Symbol("solid-dev-component");let s={equals:(e,t)=>e===t},u=$,i={owned:null,cleanups:null,context:null,owner:null};var f=null;let a=null,c=null,d=null,h=null,p=0;function g(e,t){let n=c,r=f,l=0===e.length,o=void 0===t?r:t,s=l?i:{owned:null,cleanups:null,context:o?o.context:null,owner:o},u=l?e:()=>e(()=>S(()=>V(s)));f=s,c=null;try{return T(u,!0)}finally{c=n,f=r}}function v(e,t){let n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},s,t):s).equals||void 0};return[x.bind(n),e=>("function"==typeof e&&(e=e(a&&a.running&&a.sources.has(n)?n.tValue:n.value)),A(n,e))]}function b(e,t,n){C(N(e,t,!1,1))}function w(e,t,n){var l;let o;u=E;let s=N(e,t,!1,1),i=r&&(l=r,f&&f.context&&void 0!==(o=f.context[l.id])?o:l.defaultValue);i&&(s.suspense=i),n&&n.render||(s.user=!0),h?h.push(s):C(s)}function y(e,t,n){n=n?Object.assign({},s,n):s;let r=N(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,C(r),x.bind(r)}function S(e){if(null===c)return e();let t=c;c=null;try{return e()}finally{c=t}}let[,m]=v(!1);function x(){let e=a&&a.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===1)C(this);else{let e=d;d=null,T(()=>H(this),!1),d=e}if(c){let e=this.observers?this.observers.length:0;c.sources?(c.sources.push(this),c.sourceSlots.push(e)):(c.sources=[this],c.sourceSlots=[e]),this.observers?(this.observers.push(c),this.observerSlots.push(c.sources.length-1)):(this.observers=[c],this.observerSlots=[c.sources.length-1])}return e&&a.sources.has(this)?this.tValue:this.value}function A(e,t,n){let r=a&&a.running&&a.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(r,t)){if(a){let r=a.running;(r||!n&&a.sources.has(e))&&(a.sources.add(e),e.tValue=t),r||(e.value=t)}else e.value=t;e.observers&&e.observers.length&&T(()=>{for(let t=0;t<e.observers.length;t+=1){let n=e.observers[t],r=a&&a.running;r&&a.disposed.has(n)||((r?n.tState:n.state)||(n.pure?d.push(n):h.push(n),n.observers&&function e(t){let n=a&&a.running;for(let r=0;r<t.observers.length;r+=1){let l=t.observers[r];(n?l.tState:l.state)||(n?l.tState=2:l.state=2,l.pure?d.push(l):h.push(l),l.observers&&e(l))}}(n)),r?n.tState=1:n.state=1)}if(d.length>1e6)throw d=[],Error()},!1)}return t}function C(e){if(!e.fn)return;V(e);let t=p;O(e,a&&a.running&&a.sources.has(e)?e.tValue:e.value,t),a&&!a.running&&a.sources.has(e)&&queueMicrotask(()=>{T(()=>{a&&(a.running=!0),c=f=e,O(e,e.tValue,t),c=f=null},!1)})}function O(e,t,n){let r,l=f,o=c;c=f=e;try{r=e.fn(t)}catch(t){return e.pure&&(a&&a.running?(e.tState=1,e.tOwned&&e.tOwned.forEach(V),e.tOwned=void 0):(e.state=1,e.owned&&e.owned.forEach(V),e.owned=null)),e.updatedAt=n+1,B(t)}finally{c=o,f=l}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?A(e,r,!0):a&&a.running&&e.pure?(a.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=n)}function N(e,t,n,r=1,l){let o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:f,context:f?f.context:null,pure:n};return a&&a.running&&(o.state=0,o.tState=r),null===f||f!==i&&(a&&a.running&&f.pure?f.tOwned?f.tOwned.push(o):f.tOwned=[o]:f.owned?f.owned.push(o):f.owned=[o]),o}function k(e){let t=a&&a.running;if((t?e.tState:e.state)===0)return;if((t?e.tState:e.state)===2)return H(e);if(e.suspense&&S(e.suspense.inFallback))return e.suspense.effects.push(e);let n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<p);){if(t&&a.disposed.has(e))return;(t?e.tState:e.state)&&n.push(e)}for(let r=n.length-1;r>=0;r--){if(e=n[r],t){let t=e,l=n[r+1];for(;(t=t.owner)&&t!==l;)if(a.disposed.has(t))return}if((t?e.tState:e.state)===1)C(e);else if((t?e.tState:e.state)===2){let t=d;d=null,T(()=>H(e,n[0]),!1),d=t}}}function T(e,t){if(d)return e();let n=!1;t||(d=[]),h?n=!0:h=[],p++;try{let t=e();return function(e){let t;if(d&&($(d),d=null),e)return;if(a)if(a.promises.size||a.queue.size){if(a.running){a.running=!1,a.effects.push.apply(a.effects,h),h=null,m(!0);return}}else{let e=a.sources,n=a.disposed;for(let e of(h.push.apply(h,a.effects),t=a.resolve,h))"tState"in e&&(e.state=e.tState),delete e.tState;a=null,T(()=>{for(let e of n)V(e);for(let t of e){if(t.value=t.tValue,t.owned)for(let e=0,n=t.owned.length;e<n;e++)V(t.owned[e]);t.tOwned&&(t.owned=t.tOwned),delete t.tValue,delete t.tOwned,t.tState=0}m(!1)},!1)}let n=h;h=null,n.length&&T(()=>u(n),!1),t&&t()}(n),t}catch(e){n||(h=null),d=null,B(e)}}function $(e){for(let t=0;t<e.length;t++)k(e[t])}function E(e){let t,n=0;for(t=0;t<e.length;t++){let r=e[t];r.user?e[n++]=r:k(r)}if(l.context){if(l.count){l.effects||(l.effects=[]),l.effects.push(...e.slice(0,n));return}l.context=void 0}for(l.effects&&(l.done||!l.count)&&(e=[...l.effects,...e],n+=l.effects.length,delete l.effects),t=0;t<n;t++)k(e[t])}function H(e,t){let n=a&&a.running;n?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){let l=e.sources[r];if(l.sources){let e=n?l.tState:l.state;1===e?l!==t&&(!l.updatedAt||l.updatedAt<p)&&k(l):2===e&&H(l,t)}}}function V(e){let t;if(e.sources)for(;e.sources.length;){let t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){let e=r.pop(),l=t.observerSlots.pop();n<r.length&&(e.sourceSlots[l]=n,r[n]=e,t.observerSlots[n]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)V(e.tOwned[t]);delete e.tOwned}if(a&&a.running&&e.pure)!function e(t,n){if(n||(t.tState=0,a.disposed.add(t)),t.owned)for(let n=0;n<t.owned.length;n++)e(t.owned[n])}(e,!0);else if(e.owned){for(t=e.owned.length-1;t>=0;t--)V(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}a&&a.running?e.tState=0:e.state=0}function j(e,t,n){try{for(let n of t)n(e)}catch(e){B(e,n&&n.owner||null)}}function B(e,t=f){let n=e instanceof Error?e:Error("string"==typeof e?e:"Unknown error",{cause:e});!0;throw n}function _(e,t){return S(()=>e(t||{}))}function M(e){let t=e.keyed,n=y(()=>e.when,void 0,void 0),r=t?n:y(n,void 0,{equals:(e,t)=>!e==!t});return y(()=>{let l=r();if(l){let o=e.children;return"function"==typeof o&&o.length>0?S(()=>o(t?l:()=>{if(!S(r))throw"Stale read from <Show>.";return n()})):o}return e.fallback},void 0,void 0)}Symbol("fallback")},206:function(e,t,n){n.d(t,{$T:()=>i,Qj:()=>u,XK:()=>s,sY:()=>o});var r=n(266);Object.create(null),Object.create(null);let l="_$DX_DELEGATE";function o(e,t,n,l={}){let s;return(0,r.so)(r=>{s=r,t===document?e():i(t,e(),t.firstChild?null:void 0,n)},l.owner),()=>{s(),t.textContent=""}}function s(e,t,n,l){let o,s=()=>{let t=l?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return t.innerHTML=e,n?t.content.firstChild.firstChild:l?t.firstChild:t.content.firstChild},u=t?()=>(0,r.Zw)(()=>document.importNode(o||(o=s()),!0)):()=>(o||(o=s())).cloneNode(!0);return u.cloneNode=u,u}function u(e,t=window.document){let n=t[l]||(t[l]=new Set);for(let r=0,l=e.length;r<l;r++){let l=e[r];n.has(l)||(n.add(l),t.addEventListener(l,f))}}function i(e,t,n,l){if(void 0===n||l||(l=[]),"function"!=typeof t)return a(e,t,l,n);(0,r.F3)(r=>a(e,t(),r,n),l)}function f(e){if(r.vH.registry&&r.vH.events&&r.vH.events.find(([t,n])=>n===e))return;let t=e.target,n=`$$${e.type}`,l=e.target,o=e.currentTarget,s=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),u=()=>{let r=t[n];if(r&&!t.disabled){let l=t[`${n}Data`];if(void 0!==l?r.call(t,l,e):r.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},i=()=>{for(;u()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),r.vH.registry&&!r.vH.done&&(r.vH.done=_$HY.done=!0),e.composedPath){let n=e.composedPath();s(n[0]);for(let e=0;e<n.length-2&&(t=n[e],u());e++){if(t._$host){t=t._$host,i();break}if(t.parentNode===o)break}}else i();s(l)}function a(e,t,n,l,o){var s;let u=(s=e,!!r.vH.context&&!r.vH.done&&(!s||s.isConnected));if(u){n||(n=[...e.childNodes]);let t=[];for(let e=0;e<n.length;e++){let r=n[e];8===r.nodeType&&"!$"===r.data.slice(0,2)?r.remove():t.push(r)}n=t}for(;"function"==typeof n;)n=n();if(t===n)return n;let i=typeof t,f=void 0!==l;if(e=f&&n[0]&&n[0].parentNode||e,"string"===i||"number"===i){if(u||"number"===i&&(t=t.toString())===n)return n;if(f){let r=n[0];r&&3===r.nodeType?r.data!==t&&(r.data=t):r=document.createTextNode(t),n=d(e,n,l,r)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===i){if(u)return n;n=d(e,n,l)}else if("function"===i)return(0,r.F3)(()=>{let r=t();for(;"function"==typeof r;)r=r();n=a(e,r,n,l)}),()=>n;else if(Array.isArray(t)){let s=[],i=n&&Array.isArray(n);if(function e(t,n,r,l){let o=!1;for(let s=0,u=n.length;s<u;s++){let u=n[s],i=r&&r[t.length],f;if(null==u||!0===u||!1===u);else if("object"==(f=typeof u)&&u.nodeType)t.push(u);else if(Array.isArray(u))o=e(t,u,i)||o;else if("function"===f)if(l){for(;"function"==typeof u;)u=u();o=e(t,Array.isArray(u)?u:[u],Array.isArray(i)?i:[i])||o}else t.push(u),o=!0;else{let e=String(u);i&&3===i.nodeType&&i.data===e?t.push(i):t.push(document.createTextNode(e))}}return o}(s,t,n,o))return(0,r.F3)(()=>n=a(e,s,n,l,!0)),()=>n;if(u){if(!s.length)return n;if(void 0===l)return n=[...e.childNodes];let t=s[0];if(t.parentNode!==e)return n;let r=[t];for(;(t=t.nextSibling)!==l;)r.push(t);return n=r}if(0===s.length){if(n=d(e,n,l),f)return n}else i?0===n.length?c(e,s,l):function(e,t,n){let r=n.length,l=t.length,o=r,s=0,u=0,i=t[l-1].nextSibling,f=null;for(;s<l||u<o;){if(t[s]===n[u]){s++,u++;continue}for(;t[l-1]===n[o-1];)l--,o--;if(l===s){let t=o<r?u?n[u-1].nextSibling:n[o-u]:i;for(;u<o;)e.insertBefore(n[u++],t)}else if(o===u)for(;s<l;)f&&f.has(t[s])||t[s].remove(),s++;else if(t[s]===n[o-1]&&n[u]===t[l-1]){let r=t[--l].nextSibling;e.insertBefore(n[u++],t[s++].nextSibling),e.insertBefore(n[--o],r),t[l]=n[o]}else{if(!f){f=new Map;let e=u;for(;e<o;)f.set(n[e],e++)}let r=f.get(t[s]);if(null!=r)if(u<r&&r<o){let i=s,a=1,c;for(;++i<l&&i<o&&null!=(c=f.get(t[i]))&&c===r+a;)a++;if(a>r-u){let l=t[s];for(;u<r;)e.insertBefore(n[u++],l)}else e.replaceChild(n[u++],t[s++])}else s++;else t[s++].remove()}}}(e,n,s):(n&&d(e),c(e,s));n=s}else if(t.nodeType){if(u&&t.parentNode)return n=f?[t]:t;if(Array.isArray(n)){if(f)return n=d(e,n,l,t);d(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}return n}function c(e,t,n=null){for(let r=0,l=t.length;r<l;r++)e.insertBefore(t[r],n)}function d(e,t,n,r){if(void 0===n)return e.textContent="";let l=r||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){let s=t[o];if(l!==s){let t=s.parentNode===e;r||o?t&&s.remove():t?e.replaceChild(l,s):e.insertBefore(l,n)}else r=!0}}else e.insertBefore(l,n);return[l]}Symbol()}}]);
(()=>{"use strict";var e={736:function(e,t,i){var o=i(407),n=i(206),r=i(266);i(721);var a=(0,n.XK)(`<div class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white border border-gray-300 rounded-lg p-4 z-[10000] shadow-md w-72 font-sans"><button class="absolute top-2 right-2 bg-transparent border-none cursor-pointer text-base text-gray-400 hover:text-gray-700">\xd7</button><h3 class="mt-0 mb-4 text-lg text-gray-800 font-medium">\u{5168}\u{5C40}\u{97F3}\u{91CF}\u{63A7}\u{5236}</h3><input type=range min=0 max=3 step=0.01 class="w-full my-2"><div class="flex items-center justify-between mt-2"><p class="text-sm text-gray-600">\u{97F3}\u{91CF}:</p><div class="flex items-center"><input type=number inputmode=numeric pattern=[0-9]* min=0 max=300 class="w-12 h-8 text-center border border-gray-300 rounded mr-1"><span class="text-sm text-gray-600">%</span></div></div><div class="mt-4 pt-3 border-t border-gray-200"><div class="flex items-center justify-between"><p class="text-sm text-gray-600">\u{63A7}\u{5236}\u{6A21}\u{5F0F}:</p><button class="px-2 py-1 text-xs rounded bg-blue-100 hover:bg-blue-200 text-blue-800"></button></div><p class="text-xs text-gray-500 mt-1">`);let[s,l]=(0,r.gQ)(1),d=new class{initialize(){"traditional"===this.controlMode?this.initializeTraditional():this.initializeModern()}initializeTraditional(){this.applyTraditionalVolume(s())}initializeModern(){if(!this.audioContext)try{this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.processExistingMediaElements(),this.observeDOMChanges()}catch(e){this.controlMode="traditional",GM_setValue("volumeControlMode","traditional"),this.initializeTraditional()}}getStoredVolume(){return GM_getValue("volumeSettings",{})[this.currentDomain]||1}toggleControlMode(){this.controlMode="modern"===this.controlMode?"traditional":"modern",GM_setValue("volumeControlMode",this.controlMode),"traditional"===this.controlMode?this.resetModernConnections():this.initialize(),this.applyVolume(s())}getControlMode(){return this.controlMode}resetModernConnections(){this.audioContext&&(this.sourceNodes.forEach((e,t)=>{e.disconnect()}),this.gainNode&&this.gainNode.disconnect(),this.sourceNodes.clear())}applyTraditionalVolume(e){document.querySelectorAll("audio, video").forEach((t,i)=>{t.volume=e}),this._traditionalObserverActive||this.observeTraditionalMediaElements()}observeTraditionalMediaElements(){this._traditionalObserverActive=!0,new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{e instanceof HTMLElement&&(("AUDIO"===e.tagName||"VIDEO"===e.tagName)&&(e.volume=s()),e.querySelectorAll("audio, video").forEach(e=>{e.volume=s()}))})})}).observe(document.body,{childList:!0,subtree:!0})}applyVolume(e){this.saveVolumeSettings(e),"traditional"===this.controlMode?this.applyTraditionalVolume(e):this.applyModernVolume(e)}applyModernVolume(e){this.gainNode&&(this.gainNode.gain.value=e)}saveVolumeSettings(e){let t=GM_getValue("volumeSettings",{});t[this.currentDomain]=e,GM_setValue("volumeSettings",t)}saveVolume(e){this.applyVolume(e)}processExistingMediaElements(){document.querySelectorAll("audio, video").forEach((e,t)=>{this.setupMediaElement(e)})}setupMediaElement(e){if(!this.audioContext||!this.gainNode||this.sourceNodes.has(e))return;let t=this.audioContext.createMediaElementSource(e);t.connect(this.gainNode),this.gainNode.connect(this.audioContext.destination),this.gainNode.gain.value=s(),this.sourceNodes.set(e,t)}observeDOMChanges(){new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.length>0&&e.addedNodes.forEach(e=>{if(e instanceof HTMLElement){("AUDIO"===e.tagName||"VIDEO"===e.tagName)&&this.setupMediaElement(e);let t=e.querySelectorAll("audio, video");t.length>0&&t.forEach(e=>{this.setupMediaElement(e)})}})})}).observe(document.body,{childList:!0,subtree:!0})}constructor(){(0,o._)(this,"audioContext",null),(0,o._)(this,"sourceNodes",new Map),(0,o._)(this,"gainNode",null),(0,o._)(this,"currentDomain",window.location.hostname),(0,o._)(this,"controlMode",void 0),(0,o._)(this,"_traditionalObserverActive",!1),this.controlMode=GM_getValue("volumeControlMode","modern"),l(this.getStoredVolume()),1!==s()&&this.initialize()}},[u,c]=(0,r.gQ)(!1),[h,m]=(0,r.gQ)(d.getControlMode()),g=()=>{(0,r.GW)(()=>{d.saveVolume(s())});let e=()=>{d.toggleControlMode(),m(d.getControlMode())},t=e=>{l(parseFloat(e.target.value))},i=e=>{let t=e.target.value;if(/^\d*$/.test(t))l(Math.max(0,Math.min(300,parseInt(t,10)||0))/100)};return(0,r.LM)(r.di,{get when(){return u()},get children(){var o=a(),g=o.firstChild,v=g.nextSibling.nextSibling,p=v.nextSibling,b=p.firstChild.nextSibling.firstChild,M=p.nextSibling.firstChild,f=M.firstChild.nextSibling,x=M.nextSibling;return g.$$click=()=>c(!1),v.$$input=t,b.$$input=i,f.$$click=e,(0,n.$T)(f,()=>"modern"===h()?"现代模式 (Web Audio API)":"传统模式 (直接控制)"),(0,n.$T)(x,()=>"modern"===h()?"现代模式使用Web Audio API，支持更精确的音量控制":"传统模式直接控制媒体元素音量，兼容性更好"),(0,r.F3)(()=>v.value=s()),(0,r.F3)(()=>b.value=100*s()),o}})};GM_registerMenuCommand("调整音量",()=>{d.initialize(),c(!0)}),GM_registerMenuCommand("切换音量控制模式",()=>{d.toggleControlMode(),m(d.getControlMode());let e="modern"===d.getControlMode()?"现代模式 (Web Audio API)":"传统模式 (直接控制)";"function"==typeof GM_notification?GM_notification({title:"音量控制器",text:`\u{5DF2}\u{5207}\u{6362}\u{5230}${e}`,timeout:2e3}):alert(`\u{97F3}\u{91CF}\u{63A7}\u{5236}\u{5668}: \u{5DF2}\u{5207}\u{6362}\u{5230}${e}`)}),(0,n.sY)(()=>(0,r.LM)(g,{}),document.body),(0,n.Qj)(["click","input"])}},t={};function i(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,i),r.exports}i.m=e,i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];i.O=(t,o,n,r)=>{if(o){r=r||0;for(var a=e.length;a>0&&e[a-1][2]>r;a--)e[a]=e[a-1];e[a]=[o,n,r];return}for(var s=1/0,a=0;a<e.length;a++){for(var[o,n,r]=e[a],l=!0,d=0;d<o.length;d++)(!1&r||s>=r)&&Object.keys(i.O).every(e=>i.O[e](o[d]))?o.splice(d--,1):(l=!1,r<s&&(s=r));if(l){e.splice(a--,1);var u=n();void 0!==u&&(t=u)}}return t}})(),(()=>{var e={980:0};i.O.j=t=>0===e[t];var t=(t,o)=>{var n,r,[a,s,l]=o,d=0;if(a.some(t=>0!==e[t])){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(l)var u=l(i)}for(t&&t(o);d<a.length;d++)r=a[d],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},o=self.webpackChunk=self.webpackChunk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=i.O(void 0,["509"],function(){return i(736)});o=i.O(o)})();

})();
